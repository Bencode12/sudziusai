<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sud≈æiusAI Signup</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50">
  <!-- Language Selector in top-right corner -->
  <div class="absolute top-4 right-4 z-50">
    <select id="languageSelector" class="block appearance-none w-full bg-white border border-gray-300 hover:border-blue-500 px-4 py-2 pr-8 rounded leading-tight focus:outline-none focus:shadow-outline">
      <option value="en">üá∫üá∏ English</option>
      <option value="lt">üá±üáπ Lietuvi≈≥</option>
      <option value="es">üá™üá∏ Espa√±ol</option>
      <option value="fr">üá´üá∑ Fran√ßais</option>
      <option value="de">üá©üá™ Deutsch</option>
      <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
    </select>
  </div>
  <div class="flex items-center justify-center min-h-screen">
    <form class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 w-full max-w-md mx-auto" id="signup-form" enctype="multipart/form-data">
      <div class="flex flex-col items-center mb-6">
        <span class="text-3xl mb-2">üìñ</span>
        <h2 class="text-2xl font-bold mb-1 text-center">Create Account</h2>
        <p class="text-gray-500 text-center text-sm">Start your personalized learning journey</p>
      </div>
      <label class="block text-gray-700 text-sm font-bold mb-2" for="username">Username</label>
      <input class="shadow appearance-none border rounded w-full py-2 px-3 mb-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="username" name="username" type="text" placeholder="Choose a username" required>
      <label class="block text-gray-700 text-sm font-bold mb-2" for="email">Email</label>
      <input class="shadow appearance-none border rounded w-full py-2 px-3 mb-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="email" name="email" type="email" placeholder="Enter your email" required>
      <label class="block text-gray-700 text-sm font-bold mb-2" for="password">Password</label>
      <input class="shadow appearance-none border rounded w-full py-2 px-3 mb-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="password" name="password" type="password" placeholder="Create a password" required>
      <label class="block text-gray-700 text-sm font-bold mb-2" for="confirmPassword">Confirm Password</label>
      <input class="shadow appearance-none border rounded w-full py-2 px-3 mb-6 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="confirmPassword" name="confirmPassword" type="password" placeholder="Confirm your password" required>
      <button class="w-full bg-blue-600 text-white py-2 rounded font-semibold hover:bg-blue-700 transition" type="submit">Create Account</button>
      <div id="signup-error" class="text-red-600 text-sm mt-2 hidden"></div>
      <p class="mt-4 text-center text-gray-600 text-sm">Already have an account? <a href="login.html" class="text-blue-600 hover:underline">Sign in</a></p>
    </form>
  </div>
  <script>
const translations = {
  en: {
    create: "Create Account",
    start: "Start your personalized learning journey",
    username: "Username",
    email: "Email",
    password: "Password",
    confirm: "Confirm Password",
    createBtn: "Create Account",
    already: "Already have an account? ",
    signin: "Sign in",
    errorMatch: "Passwords do not match.",
    errorFail: "Registration failed."
  },
  lt: {
    create: "Sukurti paskyrƒÖ",
    start: "Pradƒókite savo asmeninƒô mokymosi kelionƒô",
    username: "Vartotojo vardas",
    email: "El. pa≈°tas",
    password: "Slapta≈æodis",
    confirm: "Patvirtinkite slapta≈æodƒØ",
    createBtn: "Sukurti paskyrƒÖ",
    already: "Jau turite paskyrƒÖ? ",
    signin: "Prisijungti",
    errorMatch: "Slapta≈æod≈æiai nesutampa.",
    errorFail: "Registracija nepavyko."
  },
  es: {
    create: "Crear cuenta",
    start: "Comienza tu viaje de aprendizaje personalizado",
    username: "Nombre de usuario",
    email: "Correo electr√≥nico",
    password: "Contrase√±a",
    confirm: "Confirmar contrase√±a",
    createBtn: "Crear cuenta",
    already: "¬øYa tienes una cuenta? ",
    signin: "Iniciar sesi√≥n",
    errorMatch: "Las contrase√±as no coinciden.",
    errorFail: "Registro fallido."
  },
  fr: {
    create: "Cr√©er un compte",
    start: "Commencez votre parcours d'apprentissage personnalis√©",
    username: "Nom d'utilisateur",
    email: "E-mail",
    password: "Mot de passe",
    confirm: "Confirmez le mot de passe",
    createBtn: "Cr√©er un compte",
    already: "Vous avez d√©j√† un compte? ",
    signin: "Se connecter",
    errorMatch: "Les mots de passe ne correspondent pas.",
    errorFail: "√âchec de l'inscription."
  },
  de: {
    create: "Konto erstellen",
    start: "Beginnen Sie Ihre pers√∂nliche Lernreise",
    username: "Benutzername",
    email: "E-Mail",
    password: "Passwort",
    confirm: "Passwort best√§tigen",
    createBtn: "Konto erstellen",
    already: "Sie haben bereits ein Konto? ",
    signin: "Anmelden",
    errorMatch: "Passw√∂rter stimmen nicht √ºberein.",
    errorFail: "Registrierung fehlgeschlagen."
  },
  ru: {
    create: "–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç",
    start: "–ù–∞—á–Ω–∏—Ç–µ —Å–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—É—Ç—å –æ–±—É—á–µ–Ω–∏—è",
    username: "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
    email: "–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞",
    password: "–ü–∞—Ä–æ–ª—å",
    confirm: "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",
    createBtn: "–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç",
    already: "–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? ",
    signin: "–í–æ–π—Ç–∏",
    errorMatch: "–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç.",
    errorFail: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å."
  }
};
function setLanguage(lang) {
  localStorage.setItem('lang', lang);
  const t = translations[lang] || translations['en'];
  document.querySelector('h2.text-2xl').textContent = t.create;
  document.querySelector('p.text-gray-500').textContent = t.start;
  document.querySelector('label[for="username"]').textContent = t.username;
  document.querySelector('label[for="email"]').textContent = t.email;
  document.querySelector('label[for="password"]').textContent = t.password;
  document.querySelector('label[for="confirmPassword"]').textContent = t.confirm;
  document.querySelector('button[type="submit"]').textContent = t.createBtn;
  document.querySelector('p.mt-4').innerHTML = t.already + `<a href="login.html" class="text-blue-600 hover:underline">${t.signin}</a>`;
}
document.getElementById('languageSelector').addEventListener('change', function() {
  setLanguage(this.value);
});
window.addEventListener('DOMContentLoaded', function() {
  const lang = localStorage.getItem('lang') || 'en';
  document.getElementById('languageSelector').value = lang;
  setLanguage(lang);
});
document.getElementById('signup-form').addEventListener('submit', async function(e) {
  e.preventDefault();
  const form = e.target;
  const formData = new FormData(form);
  const errorDiv = document.getElementById('signup-error');
  errorDiv.classList.add('hidden');
  errorDiv.textContent = '';
  const lang = localStorage.getItem('lang') || 'en';
  const t = translations[lang] || translations['en'];
  if (formData.get('password') !== formData.get('confirmPassword')) {
    errorDiv.textContent = t.errorMatch;
    errorDiv.classList.remove('hidden');
    return;
  }
  try {
    const res = await fetch('register.php', {
      method: 'POST',
      body: formData
    });
    const data = await res.json();
    if (data.success) {
      window.location.href = data.redirect || 'dashboard.html';
    } else {
      errorDiv.textContent = data.message || t.errorFail;
      errorDiv.classList.remove('hidden');
    }
  } catch (err) {
    errorDiv.textContent = t.errorFail;
    errorDiv.classList.remove('hidden');
  }
});
</script>
</body>
</html>
